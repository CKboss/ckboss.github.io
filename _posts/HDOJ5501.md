title: HDOJ 5501 The Highest Mark 贪心+背包
date: 2015-10-13 11:10:00
tags:
- 贪心
- 背包

categories:
- acm_dp

---

如果两个问题i,j都需要要做,那么应该选择:
$$\frac{c_i}{b_i} < \frac{c_j}{b_j}$$
的做更好.

按这个顺序排好后,DP背包就可以了.

## [The Highest Mark](http://acm.hdu.edu.cn/showproblem.php?pid=5501)

Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 131072/131072 K (Java/Others)
Total Submission(s): 485    Accepted Submission(s): 200


##### Problem Description
The SDOI in 2045 is far from what it was been 30 years ago. Each competition has t minutes and n problems.

The ith problem with the original mark of Ai(Ai≤106),and it decreases Bi by each minute. It is guaranteed that it does not go to minus when the competition ends. For example someone solves the ith problem after x minutes of the competition beginning. He/She will get Ai−Bi∗x marks.

If someone solves a problem on x minute. He/She will begin to solve the next problem on x+1 minute.

dxy who attend this competition with excellent strength, can measure the time of solving each problem exactly.He will spend Ci(Ci≤t) minutes to solve the ith problem. It is because he is so godlike that he can solve every problem of this competition. But to the limitation of time, it's probable he cannot solve every problem in this competition. He wanted to arrange the order of solving problems to get the highest mark in this competition.
 

##### Input
There is an positive integer T(T≤10) in the first line for the number of testcases.(the number of testcases with n>200 is no more than 5)

For each testcase, there are two integers in the first line n(1≤n≤1000) and t(1≤t≤3000) for the number of problems and the time limitation of this competition.

There are n lines followed and three positive integers each line Ai,Bi,Ci. For the original mark,the mark decreasing per minute and the time dxy of solving this problem will spend.


Hint:
First to solve problem 2 and then solve problem 1 he will get 88 marks. Higher than any other order.
 

##### Output
For each testcase output a line for an integer, for the highest mark dxy will get in this competition.

```cpp
Sample Input
1
4 10
110 5 9
30 2 1
80 4 8
50 3 2
 

Sample Output
88
```

##### Source
[BestCoder Round #59 (div.1)](http://acm.hdu.edu.cn/search.php?field=problem&key=BestCoder+Round+%2359+%28div.1%29&source=1&searchmode=source)

<!-- more -->

```cpp
/* ***********************************************
Author        :CKboss
Created Time  :2015年10月12日 星期一 22时37分52秒
File Name     :HDOJ5501.cpp
************************************************ */

#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <string>
#include <cmath>
#include <cstdlib>
#include <vector>
#include <queue>
#include <set>
#include <map>

using namespace std;

const int maxn=1111;

int n,T;

struct Problem
{
	int a,b,c;
}problem[maxn];

bool cmp(Problem x,Problem y)
{
	return x.c*y.b<x.b*y.c;
}

int dp[5000];

int main()
{
    //freopen("in.txt","r",stdin);
    //freopen("out.txt","w",stdout);

	int T_T;
	scanf("%d",&T_T);
	while(T_T--)
	{
		scanf("%d%d",&n,&T);
		for(int i=1,a,b,c;i<=n;i++)
		{
			scanf("%d%d%d",&a,&b,&c);
			problem[i]=(Problem){a,b,c};
		}
		sort(problem+1,problem+n+1,cmp);

		memset(dp,0,sizeof(dp));
		int ans=0;
		
		for(int i=1;i<=n;i++)
		{
			int a=problem[i].a;
			int b=problem[i].b;
			int c=problem[i].c;
			for(int t=T;t>=c;t--)
			{
				dp[t]=max(dp[t],dp[t-c]+a-b*t);
				if(dp[t]>ans) ans=dp[t];
			}
		}

		printf("%d\n",ans);
	}
    
    return 0;
}
```


