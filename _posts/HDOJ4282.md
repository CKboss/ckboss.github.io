title: HDOJ 4282 A very hard mathematic problem 暴力枚举
date: 2015-09-12 09:57:37
tags:
- acm

categories:
- acm_暴力

---

当n==2时,判断是否是平方数
当n>=3时,因为3次方增长的速度很快,暴力枚举即可


<!-- more -->

--- 

### A very hard mathematic problem

Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)
Total Submission(s): 5780    Accepted Submission(s): 1627


##### Problem Description
　　Haoren is very good at solving mathematic problems. Today he is working a problem like this: 
　　Find three positive integers X, Y and Z (X < Y, Z > 1) that holds
　　 X^Z + Y^Z + XYZ = K
　　where K is another given integer.
　　Here the operator “^” means power, e.g., 2^3 = 2 * 2 * 2.
　　Finding a solution is quite easy to Haoren. Now he wants to challenge more: What’s the total number of different solutions?
　　Surprisingly, he is unable to solve this one. It seems that it’s really a very hard mathematic problem.
　　Now, it’s your turn.
 

##### Input
　　There are multiple test cases. 
　　For each case, there is only one integer K (0 < K < 2^31) in a line.
　　K = 0 implies the end of input.
　　
 

##### Output
　　Output the total number of solutions in a line for each test case.
 

```
Sample Input
9
53
6
0
 

Sample Output
1
1
0
```

Hint

9 = 1^2 + 2^2 + 1 * 2 * 2
53 = 2^3 + 3^3 + 2 * 3 * 3

 

Source
2012 ACM/ICPC Asia Regional Tianjin Online
 


```c++
/* ***********************************************
Author        :CKboss
Created Time  :2015年09月11日 星期五 13时56分07秒
File Name     :E.cpp
************************************************ */

#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <string>
#include <cmath>
#include <cstdlib>
#include <vector>
#include <queue>
#include <set>
#include <map>

using namespace std;

typedef long long int LL;

LL K;

LL quickPow(LL x,int n)
{
    LL e=1LL;
    while(n)
    {
        if(n%2==1) e=e*x;
        x=x*x;
        n/=2;
    }
    return e;
}

int main()
{
    //freopen("in.txt","r",stdin);
    //freopen("out.txt","w",stdout);

    while(scanf("%lld",&K)!=EOF)
    {
        if(K==0) break;
        LL ans=0;
        LL f =(LL)(sqrt(K)+0.5);
        if(f*f==K)
        {
            ans+=(f-1)/2;
        }
        for(LL z=3;z<=32;z++)
        {
            for(LL x=1;;x++)
            {
                LL PX=quickPow(x,z);
                if(PX>=K) break;
                for(LL y=x+1;;y++)
                {
                    LL PY=quickPow(y,z);
                    if(PX+PY>=K) break;
                    if(PX+PY+z*x*y==K) 
                    {
                        //cout<<x<<" "<<y<<" "<<z<<endl;
                        ans++;
                    }
                }
            }
        }
        printf("%lld\n",ans);
    }
    
    return 0;
}
```