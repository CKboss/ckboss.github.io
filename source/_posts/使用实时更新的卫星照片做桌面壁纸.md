title: 使用实时更新的卫星照片做桌面壁纸
date: 2015-12-10 15:44:13
tags:
- Python3小玩意
categories:
- Python3小玩意

---

[V2EX里的一篇帖子....](https://www.v2ex.com/t/241563#reply62)

抓取日本的向日葵8号卫星每十分钟更新的的地球照片作为桌面壁纸.

![示意图1](https://cloud.githubusercontent.com/assets/6072743/11613290/6af013a8-9c56-11e5-8d7e-553cc8226d5a.png)


感觉效果不错就顺手用Python自己做了一个:

```python
import requests
import hashlib
import time

old_md5=''
while True:

    json = requests.get('http://himawari8.nict.go.jp/img/D531106/latest.json')
    Md5 = hashlib.md5()
    json = str(json.content).encode('utf-8')
    Md5.update(json)
    now_md5=Md5.hexdigest()

    if old_md5!=now_md5 :
        old_md5=now_md5

        url_2=''
        for i in range(11,30) :
            if json[i]==58 :
                continue
            elif json[i]==45 or json[i]==32 :
                url_2=url_2+'/'
            else :
                url_2+=str(json[i]-ord('0'))
        url_1='http://himawari8-dl.nict.go.jp/himawari8/img/D531106/thumbnail/550/'
        url_3='_0_0.png'
        url = url_1+url_2+url_3
        print(url)

        r = requests.get(url)
        f = open('/home/ckboss/Pictures/壁纸/Eath/tt.png','bw')
        f.write(r.content)
        f.close()
    else :
        time.sleep(300)

```